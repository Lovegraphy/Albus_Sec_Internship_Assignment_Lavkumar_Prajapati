import subprocess
import re

def get_default_gateway():
    # Use 'ifconfig' on Unix/Linux systems and 'ipconfig' on Windows
    command = "ifconfig" if not subprocess.run(["ifconfig"], capture_output=True, text=True).returncode else "ipconfig"
    result = subprocess.run([command], capture_output=True, text=True)
    
    print("Command output:")
    print(result.stdout)  # Print the output of the command
    
    # Regular expression to match default gateway address
    pattern = r"(?:Default\s+Gateway|Gateway):\s*((?:\d{1,3}\.){3}\d{1,3})"

    # Search for default gateway address in the command output
    match = re.search(pattern, result.stdout)
    
    if match:
        return match.group(1)
    else:
        return None

# Get the default gateway address
default_gateway = get_default_gateway()

if default_gateway:
    print("Default gateway:", default_gateway)
else:
    print("Failed to retrieve default gateway address.")


#This script uses the subprocess module to run either ifconfig or ipconfig command based on the platform (Unix/Linux or Windows).
#Then, it uses a regular expression to extract the default gateway address from the command output. 
#Finally, it prints the default gateway address if found, or a failure message if not found.